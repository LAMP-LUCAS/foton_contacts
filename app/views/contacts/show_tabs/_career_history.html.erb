<%= turbo_frame_tag "contact_career_history" do %>
  <% if @contact_employments.any? %>
    <div class="contextual">
      <%= link_to l(:label_employment_new),
                  new_contact_employment_path(contact_id: @contact.id),
                  class: 'icon icon-add',
                  data: { turbo_frame: 'modal' } %>
    </div>
  <% end %>

  <h3><%= l(:label_contact_employments) %></h3>

  <% if @contact_employments.any? %>
    <table class="list">
      <thead>
        <tr>
          <th><%= l(:field_company) %></th>
          <th><%= l(:field_role) %></th>
          <th><%= l(:field_start_date) %></th>
          <th><%= l(:field_end_date) %></th>
          <th></th>
        </tr>
      </thead>
      <tbody id="contact_employments">
        <%= render partial: 'contact_employments/employment', collection: @contact_employments, as: :employment %>
      </tbody>
    </table>
  <% else %>
    <div id="contact_career_history_empty_state">
      <%= render partial: 'common/empty_state', locals: {
        message: l(:label_no_employments_found),
        button_label: l(:label_employment_new),
        button_path: new_contact_employment_path(contact_id: @contact.id)
      } %>
    </div>
  <% end %>
<% end %>